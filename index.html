<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="HandheldFriendly" content="true">
  <title>Gold Bar Clicker - Final</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  
  <!-- Game CSS -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/lemon.css">
  <link rel="stylesheet" href="css/about.css">
  <style>
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }
    
    body {
      touch-action: manipulation;
    }
  </style>
</head>
<body>
  <div class="app-wrapper">
  <!-- Gold Rush Progress Header -->
  <div class="gold-rush-header">
    <div class="gold-rush-fill" id="gold-rush-fill"></div>
    <div class="gold-rush-text" id="gold-rush-text">Gold Rush: 0/100</div>
  </div>

    <!-- Power Meter -->
    <div class="power-meter-container">
      <div class="power-meter">
        <div class="power-meter-fill" id="power-meter-fill"></div>
      </div>
      <div class="power-meter-label">POWER LEVEL</div>
    </div>

    <!-- Hamburger Menu Button -->
    <button class="hamburger-btn" id="hamburger-btn">
      <span class="upgrade-badge" id="upgrade-badge">0</span>
      <div class="hamburger-line"></div>
      <div class="hamburger-line"></div>
      <div class="hamburger-line"></div>
    </button>

    <!-- Upgrades Sidebar -->
    <div class="upgrades-sidebar" id="upgrades-sidebar">
      <div class="upgrades-header">
        <div class="upgrades-title">
          <h2>Upgrades</h2>
          <div class="upgrades-balance">Gold Bars: <span id="upgrades-gold-count">0</span></div>
        </div>
        <button class="close-btn" id="close-upgrades">&times;</button>
      </div>
    <div class="right-panel">
      <!-- Click Upgrades Section -->
      <div class="upgrade-section">
        <h3 class="upgrade-section-header">Click Upgrades</h3>
        <button id="buy-click-upgrade" class="upgrade-btn">
          <div class="info-icon-container">
            <i class="fas fa-info-circle upgrade-info-icon" data-upgrade="clickUpgrade"></i>
          </div>
          <img src="https://cdn-icons-png.flaticon.com/512/104/104739.png" alt="Click Power">
          <div class="upgrade-cost">Cost: <span id="click-upgrade-cost">1,000,000</span></div>
          <div class="upgrade-title">Click Power</div>
          <div class="upgrade-cps"><strong>+ 0.1</strong> Click Power</div>
          <div class="upgrade-owned">Owned: <span id="click-upgrade-count">0</span></div>
        </button>
        
        <button id="buy-shift-click" class="upgrade-btn">
          <div class="info-icon-container">
            <i class="fas fa-info-circle upgrade-info-icon" data-upgrade="shiftClick"></i>
          </div>
          <img src="https://cdn-icons-png.flaticon.com/512/104/104739.png" alt="Shift Click">
          <div class="upgrade-cost">Cost: <span id="shift-click-cost">1,500,000</span></div>
          <div class="upgrade-title">Shift Click Power</div>
          <div class="upgrade-cps"><strong>+ 2x</strong> Click Power</div>
          <div class="upgrade-owned">Owned: <span id="shift-click-count">0</span></div>
        </button>
      </div>

      <hr class="upgrade-separator">

      <!-- Auto Clickers Section -->
      <div class="upgrade-section">
        <h3 class="upgrade-section-header">Auto Clickers</h3>
        <button id="buy-auto" class="upgrade-btn">
          <div class="info-icon-container">
            <i class="fas fa-info-circle upgrade-info-icon" data-upgrade="auto"></i>
          </div>
          <img src="https://cdn-icons-png.flaticon.com/512/104/104739.png" alt="Auto Clicker">
          <div class="upgrade-cost">Cost: <span id="auto-cost">10</span></div>
          <div class="upgrade-title">Auto Clicker</div>
          <div class="upgrade-cps"><strong>+ 0.1</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="auto-count">0</span></div>
        </button>
        
        <button id="buy-pickaxe" class="upgrade-btn">
          <div class="info-icon-container">
            <i class="fas fa-info-circle upgrade-info-icon" data-upgrade="pickaxe"></i>
          </div>
          <img src="https://cdn-icons-png.flaticon.com/512/3013/3013853.png" alt="Pickaxe">
          <div class="upgrade-cost">Cost: <span id="pickaxe-cost">50</span></div>
          <div class="upgrade-title">Pickaxe</div>
          <div class="upgrade-cps"><strong>+ 0.5</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="pickaxe-count">0</span></div>
        </button>
        
        <button id="buy-miner" class="upgrade-btn">
          <img src="https://cdn-icons-png.flaticon.com/512/3185/3185927.png" alt="Miner">
          <div class="upgrade-cost">Cost: <span id="miner-cost">100</span></div>
          <div class="upgrade-title">Miner</div>
          <div class="upgrade-cps"><strong>+ 1</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="miner-count">0</span></div>
        </button>
        
        <button id="buy-excavator" class="upgrade-btn">
          <img src="https://cdn-icons-png.flaticon.com/512/2933/2933245.png" alt="Excavator">
          <div class="upgrade-cost">Cost: <span id="excavator-cost">500</span></div>
          <div class="upgrade-title">Excavator</div>
          <div class="upgrade-cps"><strong>+ 5</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="excavator-count">0</span></div>
        </button>
        
        <button id="buy-machine" class="upgrade-btn">
          <img src="https://cdn-icons-png.flaticon.com/512/2933/2933245.png" alt="Machine">
          <div class="upgrade-cost">Cost: <span id="machine-cost">1,000</span></div>
          <div class="upgrade-title">Machining</div>
          <div class="upgrade-cps"><strong>+ 10</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="machine-count">0</span></div>
        </button>
        
        <button id="buy-drill" class="upgrade-btn">
          <img src="https://cdn-icons-png.flaticon.com/512/2933/2933556.png" alt="Drill">
          <div class="upgrade-cost">Cost: <span id="drill-cost">5,000</span></div>
          <div class="upgrade-title">Drill</div>
          <div class="upgrade-cps"><strong>+ 50</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="drill-count">0</span></div>
        </button>
        
        <button id="buy-refinery" class="upgrade-btn">
          <img src="https://cdn-icons-png.flaticon.com/512/3050/3050122.png" alt="Refinery">
          <div class="upgrade-cost">Cost: <span id="refinery-cost">10,000</span></div>
          <div class="upgrade-title">Refinery</div>
          <div class="upgrade-cps"><strong>+ 100</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="refinery-count">0</span></div>
        </button>
        
        <button id="buy-lab" class="upgrade-btn">
          <img src="https://cdn-icons-png.flaticon.com/512/3050/3050122.png" alt="Lab">
          <div class="upgrade-cost">Cost: <span id="lab-cost">20,000</span></div>
          <div class="upgrade-title">Gold Lab</div>
          <div class="upgrade-cps"><strong>+ 200</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="lab-count">0</span></div>
        </button>
        
        <button id="buy-quantum" class="upgrade-btn">
          <img src="https://cdn-icons-png.flaticon.com/512/3050/3050122.png" alt="Quantum">
          <div class="upgrade-cost">Cost: <span id="quantum-cost">50,000</span></div>
          <div class="upgrade-title">Quantum Miner</div>
          <div class="upgrade-cps"><strong>+ 500</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="quantum-count">0</span></div>
        </button>
        
        <button id="buy-singularity" class="upgrade-btn">
          <img src="https://cdn-icons-png.flaticon.com/512/3050/3050122.png" alt="Singularity">
          <div class="upgrade-cost">Cost: <span id="singularity-cost">100,000</span></div>
          <div class="upgrade-title">Singularity</div>
          <div class="upgrade-cps"><strong>+ 1000</strong> CPS</div>
          <div class="upgrade-owned">Owned: <span id="singularity-count">0</span></div>
        </button>
      </div>
    </div>
  </div>

    <!-- Main Game Container -->
    <div class="container">
      <div class="game-content">
        <div id="gold-bar" class="gold-bar">
          <img src="assets/gold.png" alt="Gold Bar">
        </div>
        <!-- Instruction Overlay -->
        <div class="instruction-overlay" id="instruction-overlay">
          <div class="click-me-text">Click Me!</div>
          <div class="mouse-pointer">ðŸ‘†</div>
        </div>
        <div class="stats-container">
          <div class="stat stat-gold">
            <strong>Gold Bars:</strong> <span id="coin-count">0</span>
          </div>
        </div>
        
        <!-- Add control buttons container for desktop -->
        <div class="control-buttons-container">
          <button id="settings-btn" class="settings-btn">
            <i class="fas fa-cog"></i>
          </button>
          <button id="analytics-btn" class="analytics-btn">
            <i class="fas fa-chart-line"></i>
          </button>
          <button id="prestige-btn" class="prestige-btn" disabled>
            <i class="fas fa-sync-alt"></i>
          </button>
          <button id="about-nav-btn" class="about-nav-btn">
            <i class="fas fa-user"></i>
          </button>
        </div>
      </div>
    </div>

  </div>

  <!-- Settings Modal -->
  <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="settingsModalLabel">Game Settings</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="settings-section">
            <h6>Player Data</h6>
            <button id="resetGameBtn" class="btn btn-danger">Reset Game Progress</button>
          </div>
          
          <!-- How to Play Section -->
          <div class="settings-section">
            <h6><i class="fas fa-question-circle"></i> How to Play</h6>
            <div class="how-to-play-content">
              <p>
                Basic Game Mechanics:<br>
                â€¢ Click the gold bar to earn gold bars<br>
                â€¢ Each click generates 1 gold bar (modified by prestige multiplier)<br>
                â€¢ The power meter shows your current clicking power (max 10 CPS)<br>
                â€¢ Manual and Auto Clicker clicks contribute to power level<br>
                <br>
                Upgrades & Automation:<br>
                â€¢ Buy upgrades from the sidebar (click hamburger menu or hover right edge)<br>
                â€¢ Each upgrade adds automatic gold generation (CPS)<br>
                â€¢ Hold Shift and click an upgrade to buy max amount possible<br>
                â€¢ Auto Clicker (first upgrade) contributes to power meter<br>
                <br>
                Gold Rush Feature:<br>
                â€¢ Triggers at increasing click intervals (starts at 100, then 110, etc.)<br>
                â€¢ Multiplies all earnings by 5x for 5 seconds<br>
                â€¢ Progress bar at top shows progress to next Gold Rush<br>
                â€¢ Both manual and Auto Clicker clicks count towards Gold Rush<br>
                <br>
                Special Events:<br>
                â€¢ Watch for falling lemons!<br>
                â€¢ Click a lemon before it hits the ground to catch it<br>
                â€¢ Each caught lemon doubles your power level for 30 seconds<br>
                â€¢ Multiple lemons stack their duration
              </p>
            </div>
          </div>

          <!-- Prestige Rules Section -->
          <div class="settings-section">
            <h6><i class="fas fa-sync-alt"></i> Prestige System</h6>
            <div class="how-to-play-content">
              <p>
                Prestige resets your progress but grants permanent bonuses:<br>
                â€¢ Each prestige level adds +50% to all earnings<br>
                â€¢ Prestige cost increases by 50% each time<br>
                â€¢ Initial prestige cost: 1,000,000 gold bars<br>
                â€¢ Current prestige level: <span id="settings-prestige-level">0</span><br>
                â€¢ Current multiplier: <span id="settings-prestige-multiplier">1.0</span>x<br>
                â€¢ Next prestige cost: <span id="settings-prestige-cost">1,000,000</span>
              </p>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Reset Confirmation Modal -->
  <div class="modal fade" id="resetConfirmModal" tabindex="-1" aria-labelledby="resetConfirmModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="resetConfirmModalLabel">Confirm Reset</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to reset all game progress? This action cannot be undone.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" id="confirmResetBtn">Reset Game</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Analytics Modal -->
  <div class="modal fade" id="analyticsModal" tabindex="-1" aria-labelledby="analyticsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="analyticsModalLabel">
            <i class="fas fa-microscope"></i> Gold Analytics Dashboard v1.0.0
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Power Monitor - Full Width -->
          <div class="analytics-section mb-4">
            <h6><i class="fas fa-heartbeat"></i> Power Monitor</h6>
            <div class="power-monitor">
              <canvas id="powerMonitor" width="400" height="200"></canvas>
              <div class="power-stats">
                <div class="power-stat">
                  <label>Current Power</label>
                  <span id="current-power">0%</span>
                </div>
                <div class="power-stat">
                  <label>Peak Power</label>
                  <span id="peak-power">0%</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Gold Metrics and Production Rates Side by Side -->
          <div class="row mb-4">
            <div class="col-md-6">
              <div class="analytics-section h-100">
                <h6><i class="fas fa-coins"></i> Gold Metrics</h6>
                <div class="stat-grid">
                  <div class="stat-item">
                    <label>Total Gold Earned</label>
                    <span id="total-gold-earned">0</span>
                  </div>
                  <div class="stat-item">
                    <label>Gold Spent</label>
                    <span id="total-gold-spent">0</span>
                  </div>
                  <div class="stat-item">
                    <label>Net Worth</label>
                    <span id="net-worth">0</span>
                  </div>
                  <div class="stat-item">
                    <label>Gold Rush Triggers</label>
                    <span id="gold-rush-count">0</span>
                  </div>
                  <div class="stat-item">
                    <label>Prestige Level</label>
                    <span id="analytics-prestige-level">0</span>
                  </div>
                  <div class="stat-item">
                    <label>Gain Multiplier</label>
                    <span id="analytics-prestige-multiplier">1.0x</span>
                  </div>
                  <div class="stat-item">
                    <label>Lemons Caught</label>
                    <span id="lemons-caught">0</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="analytics-section h-100">
                <h6><i class="fas fa-tachometer-alt"></i> Production Rates</h6>
                <div class="stat-grid">
                  <div class="stat-item">
                    <label>Current CPS</label>
                    <span id="current-cps">0</span>
                  </div>
                  <div class="stat-item">
                    <label>Gold per Minute</label>
                    <span id="gold-per-minute">0</span>
                  </div>
                  <div class="stat-item">
                    <label>Gold per Hour</label>
                    <span id="gold-per-hour">0</span>
                  </div>
                  <div class="stat-item">
                    <label>Projected Daily</label>
                    <span id="gold-per-day">0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Production Analytics Table -->
          <div class="analytics-section mb-4">
            <h6><i class="fas fa-industry"></i> Production Analytics</h6>
            <div class="table-responsive">
              <table class="table table-dark table-hover">
                <thead>
                  <tr>
                    <th>Upgrade Type</th>
                    <th>Owned</th>
                    <th>Individual CPS</th>
                    <th>Total CPS</th>
                    <th>Lifetime Production</th>
                    <th>ROI (hours)</th>
                  </tr>
                </thead>
                <tbody id="upgrade-analytics">
                  <!-- Filled dynamically -->
                </tbody>
              </table>
            </div>
          </div>
          
          <!-- Session Stats -->
          <div class="analytics-section">
            <h6><i class="fas fa-clock"></i> Session Analytics</h6>
            <div class="stat-grid">
              <div class="stat-item">
                <label>Session Duration</label>
                <span id="session-duration">0:00:00</span>
              </div>
              <div class="stat-item">
                <label>Manual Clicks</label>
                <span id="manual-clicks">0</span>
              </div>
              <div class="stat-item">
                <label>Auto Clicks</label>
                <span id="auto-clicks">0</span>
              </div>
              <div class="stat-item">
                <label>Click Efficiency</label>
                <span id="click-efficiency">0%</span>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <small class="text-muted me-auto">
            <i class="fas fa-info-circle"></i> Data updates in real-time
          </small>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- About Section -->
  <div class="about-section" id="about-section">
    <div class="pokemon-card">
      <button class="close-about" id="close-about">
        <i class="fas fa-times"></i>
      </button>
      <a href="https://github.com/Tanner253/ClickerDemo" target="_blank" class="github-link">
        <i class="fab fa-github"></i>
      </a>
      <div class="card-header">About Me</div>
      <div class="card-image">
        <img src="./assets/pfp.webp" alt="Profile Picture">
      </div>
      <div class="card-content">
        <p>Hello! My name is Tanner and I am the creator of Gold Bar Clicker. Thanks for playing! This is a prototype for a game I am working on where players can earn real money. Check out the <a href="https://github.com/Tanner253/ClickerDemo" target="_blank">documentation</a> for more details.</p>
       <p>I am recently laid off after 3 years with a company, I am looking for new roles! please email me at percivaltanner@gmail.com to connect! I made this game in 3 days.</p> 
        <div class="card-stats">
          <div class="stat-item-about-me">
            <strong>Role:</strong><br>Full Stack Software Engineer
          </div>
          <div class="stat-item-about-me">
            <strong>Experience:</strong><br>8 Years
          </div>
          <div class="stat-item-about-me">
            <strong>Version:</strong><br>1.0.0
          </div>
          <div class="stat-item-about-me">
            <strong>Created:</strong><br>2025
          </div>
        </div>
      </div>
    </div>
  </div>

  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Game Scripts -->
  <script src="js/main.js"></script>
  <script src="js/lemon.js"></script>
  <script src="js/about.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize the game
      if (typeof initGame === 'function') {
        initGame();
      }
      // Initialize the lemon system
      if (typeof initLemonSystem === 'function') {
        initLemonSystem();
      }
    });
  </script>

  <!-- Add this before the closing body tag -->
  <div class="upgrade-info-panel">
    <button class="info-panel-close">&times;</button>
    <h3 class="info-title"></h3>
    <div class="info-stats"></div>
    <div class="info-tip"></div>
  </div>

  <!-- XP Bar -->
  <div class="xp-bar-container">
    <div class="xp-bar-fill" id="xp-bar-fill"></div>
  </div>
</body>
</html>